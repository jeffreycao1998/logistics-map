[{"C:\\Users\\Jeffrey\\Desktop\\Code\\assignments\\logistics-map\\client\\src\\App.tsx":"1","C:\\Users\\Jeffrey\\Desktop\\Code\\assignments\\logistics-map\\client\\src\\index.tsx":"2","C:\\Users\\Jeffrey\\Desktop\\Code\\assignments\\logistics-map\\client\\src\\components\\Map.tsx":"3","C:\\Users\\Jeffrey\\Desktop\\Code\\assignments\\logistics-map\\client\\src\\util\\constants.ts":"4","C:\\Users\\Jeffrey\\Desktop\\Code\\assignments\\logistics-map\\client\\src\\components\\Marker.tsx":"5","C:\\Users\\Jeffrey\\Desktop\\Code\\assignments\\logistics-map\\client\\src\\components\\Sidebar\\index.tsx":"6","C:\\Users\\Jeffrey\\Desktop\\Code\\assignments\\logistics-map\\client\\src\\components\\Sidebar\\RouteDetails.tsx":"7","C:\\Users\\Jeffrey\\Desktop\\Code\\assignments\\logistics-map\\client\\src\\hooks\\useInput.tsx":"8","C:\\Users\\Jeffrey\\Desktop\\Code\\assignments\\logistics-map\\client\\src\\components\\Sidebar\\AddShipment.tsx":"9","C:\\Users\\Jeffrey\\Desktop\\Code\\assignments\\logistics-map\\client\\src\\graphql\\gql.ts":"10","C:\\Users\\Jeffrey\\Desktop\\Code\\assignments\\logistics-map\\client\\src\\graphql\\mutations\\addShipment.ts":"11","C:\\Users\\Jeffrey\\Desktop\\Code\\assignments\\logistics-map\\client\\src\\util\\calcViewport.ts":"12","C:\\Users\\Jeffrey\\Desktop\\Code\\assignments\\logistics-map\\client\\src\\graphql\\queries\\getRoutes.ts":"13"},{"size":1061,"mtime":1610898215659,"results":"14","hashOfConfig":"15"},{"size":856,"mtime":1610761377850,"results":"16","hashOfConfig":"15"},{"size":3678,"mtime":1610896027098,"results":"17","hashOfConfig":"15"},{"size":214,"mtime":1610809429988,"results":"18","hashOfConfig":"15"},{"size":532,"mtime":1610843112056,"results":"19","hashOfConfig":"15"},{"size":1477,"mtime":1610898300759,"results":"20","hashOfConfig":"15"},{"size":2269,"mtime":1610892765332,"results":"21","hashOfConfig":"15"},{"size":1458,"mtime":1610820136899,"results":"22","hashOfConfig":"15"},{"size":3337,"mtime":1610898363107,"results":"23","hashOfConfig":"15"},{"size":205,"mtime":1610897303335,"results":"24","hashOfConfig":"15"},{"size":539,"mtime":1610843548067,"results":"25","hashOfConfig":"15"},{"size":1146,"mtime":1610896037894,"results":"26","hashOfConfig":"15"},{"size":345,"mtime":1610897995362,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"b4jpc5",{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"32"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"C:\\Users\\Jeffrey\\Desktop\\Code\\assignments\\logistics-map\\client\\src\\App.tsx",[],"C:\\Users\\Jeffrey\\Desktop\\Code\\assignments\\logistics-map\\client\\src\\index.tsx",[],["56","57"],"C:\\Users\\Jeffrey\\Desktop\\Code\\assignments\\logistics-map\\client\\src\\components\\Map.tsx",["58"],"import React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { ViewportType, ShipmentType, RouteType } from '../types';\r\nimport { MAPBOX_ACCESS_TOKEN } from '../util/constants';\r\n// import calcMapCenter from '../util/calcMapCenter';\r\nimport calcViewport from '../util/calcViewport';\r\n\r\n// Components\r\nimport ReactMapGL, { Marker, Source, Layer, FlyToInterpolator } from 'react-map-gl';\r\nimport StyledMarker from './Marker';\r\nimport calcMapZoom from '../util/calcViewport';\r\n\r\nconst Container = styled.div`\r\n  width: calc(100% - 400px);\r\n  height: 100vh;\r\n`;\r\n\r\ntype Props = {\r\n  shipments: Array<ShipmentType>\r\n  routes: Array<RouteType>\r\n}\r\n\r\nconst Map = ({ shipments, routes }: Props) => {\r\n  const [viewport, setViewport] = useState({\r\n    longitude: 0,\r\n    latitude: 0,\r\n    zoom: 0\r\n  } as ViewportType);\r\n\r\n  useEffect(() => {\r\n    if (shipments.length > 0) {\r\n      const { center, zoom } = calcViewport(shipments);\r\n\r\n      setViewport({\r\n        longitude: center[0],\r\n        latitude: center[1],\r\n        zoom: zoom - 1\r\n      })\r\n    }\r\n  },[shipments]);\r\n\r\n  useEffect(() => {\r\n    console.log(routes);\r\n  },[routes]);\r\n\r\n  return (\r\n    <Container>\r\n      <ReactMapGL\r\n        width=\"100%\"\r\n        height=\"100%\"\r\n        latitude={viewport.latitude}\r\n        longitude={viewport.longitude}\r\n        zoom={viewport.zoom}\r\n        \r\n        mapStyle=\"mapbox://styles/mapbox/dark-v9\"\r\n        onViewportChange={(nextViewport: ViewportType) => setViewport(nextViewport)}\r\n        transitionDuration={500}\r\n        transitionInterpolator={new FlyToInterpolator()}\r\n        mapboxApiAccessToken={MAPBOX_ACCESS_TOKEN}\r\n      >\r\n        {\r\n          routes.length > 0 && routes.map(({id, geojsonCoordinates, sequence}: RouteType, index: number) => {\r\n            const lastIndex = geojsonCoordinates.length - 1;\r\n            return (\r\n              <>\r\n                <Marker key={index + id + 'first'} draggable={true} longitude={ geojsonCoordinates[0][0] } latitude={ geojsonCoordinates[0][1] }>\r\n                  <StyledMarker position={ sequence + 1 }/>\r\n                </Marker>\r\n                {\r\n                  index === routes.length - 1 &&\r\n                  <Marker key={index + id + 'second'} longitude={ geojsonCoordinates[lastIndex][0] } latitude={ geojsonCoordinates[lastIndex][1] }>\r\n                    <StyledMarker position={ sequence + 2 }/>\r\n                  </Marker>\r\n                }\r\n              </>\r\n            )\r\n          })\r\n        }\r\n        \r\n        {\r\n          routes.length > 0 && routes.map((route: RouteType) => {\r\n            return (\r\n              <Source\r\n                key={`source-${route.id}`}\r\n                id={`source-${route.id}`} \r\n                type=\"geojson\" \r\n                data={{\r\n                  type: 'Feature',\r\n                  properties: {},\r\n                  geometry: {\r\n                    type: 'LineString',\r\n                    coordinates: route.geojsonCoordinates\r\n                  }\r\n                }}\r\n              >\r\n                <Layer\r\n                  id={`layer-${route.id}`}\r\n                  type='line'\r\n                  source={`source-${route.id}`}\r\n                  layout={{\r\n                    'line-join': 'round',\r\n                    'line-cap': 'round'\r\n                  }}\r\n                  paint={{\r\n                    'line-color': `${route.type === 'pickup' ? '#fae902' : '#029ffa'}`,\r\n                    'line-width': 8\r\n                  }}\r\n                />\r\n              </Source>\r\n            )\r\n          })\r\n        }\r\n\r\n      </ReactMapGL>\r\n    </Container>\r\n  )\r\n};\r\n\r\nexport default Map;","C:\\Users\\Jeffrey\\Desktop\\Code\\assignments\\logistics-map\\client\\src\\util\\constants.ts",[],"C:\\Users\\Jeffrey\\Desktop\\Code\\assignments\\logistics-map\\client\\src\\components\\Marker.tsx",[],"C:\\Users\\Jeffrey\\Desktop\\Code\\assignments\\logistics-map\\client\\src\\components\\Sidebar\\index.tsx",[],"C:\\Users\\Jeffrey\\Desktop\\Code\\assignments\\logistics-map\\client\\src\\components\\Sidebar\\RouteDetails.tsx",[],"C:\\Users\\Jeffrey\\Desktop\\Code\\assignments\\logistics-map\\client\\src\\hooks\\useInput.tsx",[],"C:\\Users\\Jeffrey\\Desktop\\Code\\assignments\\logistics-map\\client\\src\\components\\Sidebar\\AddShipment.tsx",["59","60","61","62","63","64"],"C:\\Users\\Jeffrey\\Desktop\\Code\\assignments\\logistics-map\\client\\src\\graphql\\gql.ts",[],"C:\\Users\\Jeffrey\\Desktop\\Code\\assignments\\logistics-map\\client\\src\\graphql\\mutations\\addShipment.ts",[],"C:\\Users\\Jeffrey\\Desktop\\Code\\assignments\\logistics-map\\client\\src\\util\\calcViewport.ts",[],"C:\\Users\\Jeffrey\\Desktop\\Code\\assignments\\logistics-map\\client\\src\\graphql\\queries\\getRoutes.ts",[],{"ruleId":"65","replacedBy":"66"},{"ruleId":"67","replacedBy":"68"},{"ruleId":"69","severity":1,"message":"70","line":11,"column":8,"nodeType":"71","messageId":"72","endLine":11,"endColumn":19},{"ruleId":"69","severity":1,"message":"73","line":1,"column":17,"nodeType":"71","messageId":"72","endLine":1,"endColumn":25},{"ruleId":"69","severity":1,"message":"74","line":59,"column":10,"nodeType":"71","messageId":"72","endLine":59,"endColumn":19},{"ruleId":"69","severity":1,"message":"75","line":60,"column":10,"nodeType":"71","messageId":"72","endLine":60,"endColumn":19},{"ruleId":"69","severity":1,"message":"76","line":62,"column":10,"nodeType":"71","messageId":"72","endLine":62,"endColumn":20},{"ruleId":"69","severity":1,"message":"77","line":63,"column":10,"nodeType":"71","messageId":"72","endLine":63,"endColumn":20},{"ruleId":"69","severity":1,"message":"78","line":65,"column":10,"nodeType":"71","messageId":"72","endLine":65,"endColumn":21},"no-native-reassign",["79"],"no-negated-in-lhs",["80"],"@typescript-eslint/no-unused-vars","'calcMapZoom' is defined but never used.","Identifier","unusedVar","'useState' is defined but never used.","'pickupLng' is assigned a value but never used.","'pickupLat' is assigned a value but never used.","'dropoffLng' is assigned a value but never used.","'dropoffLat' is assigned a value but never used.","'description' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]